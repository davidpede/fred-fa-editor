!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("FredFAEditor",[],t):"object"==typeof exports?exports.FredFAEditor=t():e.FredFAEditor=t()}(this,function(){return function(e){function t(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();t.default=function(e,t,o){var l,d,f=o.fredConfig,u=o.ui.els,c=u.div,p=u.label,h=u.i,v=o.ui.ins,b=v.select,x=v.toggle;return d=l=function(e){function l(){return i(this,l),a(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return n(l,e),s(l,[{key:"init",value:function(){this.animation={"":f.lng("fredfaeditor.none"),"fa-spin":f.lng("fredfaeditor.spin"),"fa-pulse":f.lng("fredfaeditor.pulse")},this.sizes={"":f.lng("fredfaeditor.default"),"fa-xs":"XS","fa-sm":"SM","fa-lg":"LG","fa-2x":"2x","fa-3x":"3x","fa-4x":"4x","fa-5x":"5x","fa-6x":"6x","fa-7x":"7x","fa-8x":"8x","fa-9x":"9x","fa-10x":"10x"},this.pull={"":f.lng("fredfaeditor.none"),"fa-pull-left":f.lng("fredfaeditor.left"),"fa-pull-right":f.lng("fredfaeditor.right")},this.state=this.parseClass(this.el.fredEl.constructor.getElValue(this.el)||"")}},{key:"render",value:function(){var e=c();return e.appendChild(this.buildIconInput()),e.appendChild(b({label:"fredfaeditor.size",name:"size",options:this.sizes},this.state.size,this.setStateValue)),e.appendChild(x({label:"fredfaeditor.fixed_width",name:"fixedWidth"},this.state.fixedWidth,this.setStateValue)),e.appendChild(x({label:"fredfaeditor.border",name:"border"},this.state.border,this.setStateValue)),e.appendChild(b({label:"fredfaeditor.pull",name:"pull",options:this.pull},this.state.pull,this.setStateValue)),e.appendChild(b({label:"fredfaeditor.animation",name:"animation",options:this.animation},this.state.animation,this.setStateValue)),e.appendChild(this.buildAttributesFields()),e.appendChild(this.buildPreview()),e}},{key:"onSave",value:function(){t.prototype.onSave.call(this),this.el.fredEl.setElValue(this.el,this.buildClass())}},{key:"buildPreview",value:function(){var e=c(["fred--preview"]),t=p("fredfaeditor.preview");return this.preview=h(),this.preview.className=this.buildClass(),e.appendChild(t),e.appendChild(this.preview),e}},{key:"buildIconInput",value:function(){var e=this,t=c(),i=document.createElement("select"),a=p("fredfaeditor.icon",["fred--label-choices"]);t.appendChild(a),t.appendChild(i);var n=new o.Choices(i,{searchChoices:!1,callbackOnCreateTemplates:function(e){var t=this.config.classNames;return{item:function(t){return e('<i class="'+t.value+'"></i>}')},choice:function(i){return e('\n                          <div class="'+t.item+" "+t.itemChoice+" "+(i.disabled?t.itemDisabled:t.itemSelectable)+'" data-select-text="'+f.config.itemSelectText+'" data-choice '+(i.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable")+' data-id="'+i.id+'" data-value="'+i.value+'" '+(i.groupId>0?'role="treeitem"':'role="option"')+'>\n                              <i class="'+i.value+'"></i>\n                          </div>\n                        ')}}}});return n.setChoices(l.icons,"title","title"),n.setValueByChoice([this.state.icon]),n.passedElement.addEventListener("choice",function(t){e.setStateValue("icon",t.detail.choice.value),n.setChoices(l.icons,"title","title",!0)}),n.passedElement.addEventListener("search",function(e){var t=n.input.value,i=[];l.icons.forEach(function(e){var a=e.title.split("-").splice(1).join("-");if(0===a.indexOf(t))i.push(e);else{var n=e.searchTerms.some(function(e){return 0===e.indexOf(t)});n&&i.push(e)}}),n.setChoices(i,"title","title",!0)}),t}},{key:"onStateUpdate",value:function(){this.preview.className=this.buildClass()}},{key:"parseClass",value:function(e){var t="",i=!1,a=!1,n="",s="";e=e.split(" ");for(var o in this.sizes)if(this.sizes.hasOwnProperty(o)){var l=e.indexOf(o);l>-1&&(t=o,e.splice(l,1))}for(var d in this.pull)if(this.pull.hasOwnProperty(d)){var f=e.indexOf(d);f>-1&&(n=d,e.splice(f,1))}for(var u in this.animation)if(this.animation.hasOwnProperty(u)){var c=e.indexOf(u);c>-1&&(s=u,e.splice(c,1))}var p=e.indexOf("fa-fw");p>0&&(i=!0,e.splice(p,1));var h=e.indexOf("fa-border");h>0&&(a=!0,e.splice(h,1));var v=e.join(" ");return r({},this.state,{icon:v,size:t,fixedWidth:i,border:a,pull:n,animation:s})}},{key:"buildClass",value:function(){var e=this.state.icon;return""!==this.state.size&&(e+=" "+this.state.size),this.state.fixedWidth===!0&&(e+=" fa-fw"),this.state.border===!0&&(e+=" fa-border"),""!==this.state.pull&&(e+=" "+this.state.pull),""!==this.state.animation&&(e+=" "+this.state.animation),e}}]),l}(t),l.icons=null,d},e.exports=t.default}])});